multipathd> show multipaths topology
create: 36000402001f45eb566e79f6d00000000 dm-0 NEXSAN,SATABoy2
size=3.7G features='0' hwhandler='0' wp=rw
`-+- policy='round-robin 0' prio=1 status=active
  `- 4:0:0:10 sdc 8:32 active ready  running
create: 36000402001f45eb56424ca6800000000 dm-1 NEXSAN,SATABoy2
size=466G features='0' hwhandler='0' wp=rw
`-+- policy='round-robin 0' prio=0 status=active
  `- 4:0:0:0  sdb 8:16 failed f"aulty running
create: 36000402001f45eb566e79fb700000000 dm-2 NEXSAN,SATABoy2
size=5.6G features='0' hwhandler='0' wp=rw
`-+- policy='round-robin 0' prio=1 status=active
  `- 4:0:0:11 sdd 8:48 active ready  running

multipathd> show paths
hcil     dev dev_t pri dm_st  chk_st dev_st  next_check     
2:0:0:0  sda 8:0   1   undef  ready  running orphan         
4:0:0:10 sdc 8:32  1   active ready  running XXX....... 7/20
4:0:0:0  sdb 8:16  1   failed faulty running .......... 1/20
4:0:0:11 sdd 8:48  1   active ready  running XXX....... 6/20
multipathd> show
multipath-tools v0.4.9 (04/04, 2009)

multipathd> show maps top
create: 36000402001f45eb56424ca6800000000dm-0  NEXSAN  ,SATABoy2      
[size=466G][features=0       ][hwhandler=0        ]
\_ round-robin 0 [prio=0][enabled]
 \_ 5:0:0:0  sdb 8:16  [active][ready]
create: 36000402001f45eb566e79f6d00000000dm-1  NEXSAN  ,SATABoy2      
[size=3.7G][features=0       ][hwhandler=0        ]
\_ round-robin 0 [prio=0][enabled]
 \_ 5:0:0:10 sdc 8:32  [active][ready]
create: 36000402001f45eb566e79fb700000000dm-2  NEXSAN  ,SATABoy2      
[size=5.6G][features=0       ][hwhandler=0        ]
\_ round-robin 0 [prio=0][enabled]
 \_ 5:0:0:11 sdd 8:48  [active][ready]

multipathd> show paths
hcil     dev dev_t pri dm_st   chk_st  next_check      
2:0:0:0  sda 8:0   1   [undef] [undef] [orphan]        
5:0:0:0  sdb 8:16  1   [active][ready] X......... 3/20 
5:0:0:10 sdc 8:32  1   [active][ready] XXXXXXXXX. 18/20
5:0:0:11 sdd 8:48  1   [active][ready] XXXXXXXXXX 20/20
multipathd> show ver
multipath-tools v0.4.8 (08/02, 2007)

multipathd> show maps topo
create: 36000402001f45eb56424ca6800000000 dm-0  NEXSAN,SATABoy2
[size=466G][features=0       ][hwhandler=0        ][rw        ]
\_ round-robin 0 [prio=0][enabled]
 \_ 2:0:0:0  sdb 8:16  [active][ready]
create: 36000402001f45eb566e79f6d00000000 dm-1  NEXSAN,SATABoy2
[size=3.7G][features=0       ][hwhandler=0        ][rw        ]
\_ round-robin 0 [prio=0][active]
 \_ 2:0:0:10 sdc 8:32  [active][ready]
create: 36000402001f45eb566e79fb700000000 dm-2  NEXSAN,SATABoy2
[size=5.6G][features=0       ][hwhandler=0        ][rw        ]
\_ round-robin 0 [prio=0][enabled]
 \_ 2:0:0:11 sdd 8:48  [active][ready]

multipathd> show paths
hcil     dev dev_t pri dm_st   chk_st  next_check      
0:0:0:0  sda 8:0   1   [undef] [ready] [orphan]        
2:0:0:0  sdb 8:16  1   [active][ready] XXXXXXXXX. 18/20
2:0:0:10 sdc 8:32  1   [active][ready] XX........ 1/5  
2:0:0:11 sdd 8:48  1   [active][ready] XXXXXXXXX. 18/20
multipathd> show v
fail
multipath-tools v0.4.7 (03/12, 2006)



----

host-ci13
=========

multipathd> ?
multipath-tools v0.4.9 (04/04, 2009)
CLI commands reference:
 list|show paths
 list|show paths format $format
 list|show status
 list|show maps|multipaths
 list|show maps|multipaths status
 list|show maps|multipaths stats
 list|show maps|multipaths format $format
 list|show maps|multipaths topology
 list|show topology
 list|show map|multipath $map topology
 list|show config
 list|show blacklist
 list|show devices
 list|show wildcards
 add path $path
 remove|del path $path
 add map|multipath $map
 remove|del map|multipath $map
 switch|switchgroup map|multipath $map group $group
 reconfigure
 suspend map|multipath $map
 resume map|multipath $map
 resize map|multipath $map
 disablequeueing map|multipath $map
 restorequeueing map|multipath $map
 disablequeueing maps|multipaths
 restorequeueing maps|multipaths
 reinstate path $path
 fail path $path
 paths count
 quit|exit
 
multipathd> show paths
hcil    dev dev_t pri dm_st  chk_st dev_st  next_check      
2:0:0:0 sda 8:0   1   undef  ready  running orphan          
3:0:0:0 sdb 8:16  1   active ready  running XXXXXX.... 13/20

multipathd> show status
path checker states:
up                  2

multipathd> show maps
name                              sysfs uuid                             
36000402001f45eb56424ca6800000000 dm-0  36000402001f45eb56424ca6800000000

multipathd> show maps status
name                              failback queueing paths dm-st  write_prot
36000402001f45eb56424ca6800000000 -        -        1     active rw        

multipathd> show maps stats
name                              path_faults switch_grp map_loads total_q_time q_timeouts
36000402001f45eb56424ca6800000000 0           0          1         0            0     
 
multipathd> show maps topology
36000402001f45eb56424ca6800000000 dm-0 NEXSAN,SATABoy2
size=466G features='0' hwhandler='0' wp=rw
`-+- policy='round-robin 0' prio=1 status=active
  `- 3:0:0:0 sdb 8:16 active ready running
  
show topology
36000402001f45eb56424ca6800000000 dm-0 NEXSAN,SATABoy2
size=466G features='0' hwhandler='0' wp=rw
`-+- policy='round-robin 0' prio=1 status=active
  `- 3:0:0:0 sdb 8:16 active ready running

multipathd> show config
defaults {
    verbosity 2
    polling_interval 5
    udev_dir "/dev"
    multipath_dir "/lib64/multipath"
    path_selector "round-robin 0"
    path_grouping_policy failover
    getuid_callout "/lib/udev/scsi_id --whitelisted --device=/dev/%n"
    prio const
    features "0"
    path_checker directio
    failback manual
    rr_min_io 1000
    rr_weight uniform
    queue_without_daemon yes
    pg_timeout none
    flush_on_last_del no
    user_friendly_names no
    find_multipaths no
    log_checker_err always
}
blacklist {
    devnode "^(ram|raw|loop|fd|md|dm-|sr|scd|st)[0-9]*"
    devnode "^hd[a-z]"
    devnode "^dcssblk[0-9]*"
    device {
        vendor "DGC"
        product "LUNZ"
    }
    device {
        vendor "EMC"
        product "LUNZ"
    }
    device {
        vendor "IBM"
        product "S/390.*"
    }
    device {
        vendor "IBM"
        product "S/390.*"
    }
    device {
        vendor "STK"
        product "Universal Xport"
    }
}
blacklist_exceptions {
}
devices {
    device {
        vendor "NEXSAN"
        product "SATABoy2"
    }
    device {
        vendor "COMPELNT"
        product "Compellent Vol"
        path_grouping_policy multibus
        getuid_callout "/lib/udev/scsi_id --whitelisted --device=/dev/%n"
        path_selector "round-robin 0"
        path_checker tur
        features "0"
        hardware_handler "0"
        prio const
        failback immediate
        rr_weight uniform
        no_path_retry queue
        rr_min_io 1000
    }
    device {
        vendor "APPLE*"
        product "Xserve RAID "
        path_grouping_policy multibus
        getuid_callout "/lib/udev/scsi_id --whitelisted --device=/dev/%n"
        path_selector "round-robin 0"
        path_checker directio
        features "0"
        hardware_handler "0"
        prio const
        rr_weight uniform
        rr_min_io 1000
    }
    device {
        vendor "3PARdata"
        product "VV"
        path_grouping_policy multibus
        getuid_callout "/lib/udev/scsi_id --whitelisted --device=/dev/%n"
        path_selector "round-robin 0"
        path_checker directio
        features "0"
        hardware_handler "0"
        prio const
        rr_weight uniform
        rr_min_io 1000
    }
    device {
        vendor "DEC"
        product "HSG80"
        path_grouping_policy group_by_prio
        getuid_callout "/lib/udev/scsi_id --whitelisted --device=/dev/%n"
        path_selector "round-robin 0"
        path_checker hp_sw
        features "1 queue_if_no_path"
        hardware_handler "1 hp_sw"
        prio hp_sw
        rr_weight uniform
        rr_min_io 1000
    }
    device {
        vendor "HP"
        product "A6189A"
        path_grouping_policy multibus
        getuid_callout "/lib/udev/scsi_id --whitelisted --device=/dev/%n"
        path_selector "round-robin 0"
        path_checker directio
        features "0"
        hardware_handler "0"
        prio const
        rr_weight uniform
        no_path_retry 12
        rr_min_io 1000
    }
    device {
        vendor "(COMPAQ|HP)"
        product "(MSA|HSV)1.0.*"
        path_grouping_policy group_by_prio
        getuid_callout "/lib/udev/scsi_id --whitelisted --device=/dev/%n"
        path_selector "round-robin 0"
        path_checker hp_sw
        features "1 queue_if_no_path"
        hardware_handler "1 hp_sw"
        prio hp_sw
        rr_weight uniform
        no_path_retry 12
        rr_min_io 100
    }
    device {
        vendor "(COMPAQ|HP)"
        product "MSA VOLUME"
        path_grouping_policy group_by_prio
        getuid_callout "/lib/udev/scsi_id --whitelisted --device=/dev/%n"
        path_selector "round-robin 0"
        path_checker tur
        features "0"
        hardware_handler "0"
        prio alua
        failback immediate
        rr_weight uniform
        no_path_retry 12
        rr_min_io 100
    }
    device {
        vendor "(COMPAQ|HP)"
        product "HSV1[01]1|HSV2[01]0|HSV300|HSV4[05]0"
        path_grouping_policy group_by_prio
        getuid_callout "/lib/udev/scsi_id --whitelisted --device=/dev/%n"
        path_selector "round-robin 0"
        path_checker tur
        features "0"
        hardware_handler "0"
        prio alua
        failback immediate
        rr_weight uniform
        no_path_retry 12
        rr_min_io 100
    }
    device {
        vendor "HP"
        product "MSA2[02]12fc|MSA2012i"
        path_grouping_policy multibus
        getuid_callout "/lib/udev/scsi_id --whitelisted --device=/dev/%n"
        path_selector "round-robin 0"
        path_checker tur
        features "0"
        hardware_handler "0"
        prio const
        failback immediate
        rr_weight uniform
        no_path_retry 18
        rr_min_io 100
    }
    device {
        vendor "HP"
        product "MSA2012sa|MSA23(12|24)(fc|i|sa)|MSA2000s VOLUME"
        path_grouping_policy group_by_prio
        getuid_callout "/lib/udev/scsi_id --whitelisted --device=/dev/%n"
        path_selector "round-robin 0"
        path_checker tur
        features "0"
        hardware_handler "0"
        prio alua
        failback immediate
        rr_weight uniform
        no_path_retry 18
        rr_min_io 100
    }
    device {
        vendor "HP"
        product "HSVX700"
        path_grouping_policy group_by_prio
        getuid_callout "/lib/udev/scsi_id --whitelisted --device=/dev/%n"
        path_selector "round-robin 0"
        path_checker tur
        features "0"
        hardware_handler "1 alua"
        prio alua
        failback immediate
        rr_weight uniform
        no_path_retry 12
        rr_min_io 100
    }
    device {
        vendor "HP"
        product "LOGICAL VOLUME.*"
        path_grouping_policy multibus
        getuid_callout "/lib/udev/scsi_id --whitelisted --device=/dev/%n"
        path_selector "round-robin 0"
        path_checker tur
        features "0"
        hardware_handler "0"
        prio const
        rr_weight uniform
        no_path_retry 12
        rr_min_io 1000
    }
    device {
        vendor "HP"
        product "OPEN-.*"
        path_grouping_policy multibus
        getuid_callout "/lib/udev/scsi_id --whitelisted --device=/dev/%n"
        path_selector "round-robin 0"
        path_checker tur
        features "0"
        hardware_handler "0"
        prio const
        rr_weight uniform
        no_path_retry 18
        rr_min_io 1000
    }
    device {
        vendor "HP"
        product "P2000 G3 FC|P2000G3 FC/iSCSI|P2000 G3 SAS|P2000 G3 iSCSI"
        path_grouping_policy group_by_prio
        getuid_callout "/lib/udev/scsi_id --whitelisted --device=/dev/%n"
        path_selector "round-robin 0"
        path_checker tur
        features "0"
        hardware_handler "0"
        prio alua
        failback immediate
        rr_weight uniform
        no_path_retry 18
        rr_min_io 100
    }
    device {
        vendor "DDN"
        product "SAN DataDirector"
        path_grouping_policy multibus
        getuid_callout "/lib/udev/scsi_id --whitelisted --device=/dev/%n"
        path_selector "round-robin 0"
        path_checker directio
        features "0"
        hardware_handler "0"
        prio const
        rr_weight uniform
        rr_min_io 1000
    }
    device {
        vendor "EMC"
        product "SYMMETRIX"
        path_grouping_policy multibus
        getuid_callout "/lib/udev/scsi_id --page=pre-spc3-83 --whitelisted --device=/dev/%n"
        path_selector "round-robin 0"
        path_checker tur
        features "0"
        hardware_handler "0"
        prio const
        rr_weight uniform
        no_path_retry 6
        rr_min_io 1000
    }
    device {
        vendor "DGC"
        product ".*"
        product_blacklist "LUNZ"
        path_grouping_policy group_by_prio
        getuid_callout "/lib/udev/scsi_id --whitelisted --device=/dev/%n"
        path_selector "round-robin 0"
        path_checker emc_clariion
        features "1 queue_if_no_path"
        hardware_handler "1 emc"
        prio emc
        failback immediate
        rr_weight uniform
        no_path_retry 60
        rr_min_io 1000
    }
    device {
        vendor "EMC"
        product "Invista"
        product_blacklist "LUNZ"
        path_grouping_policy multibus
        getuid_callout "/lib/udev/scsi_id --whitelisted --device=/dev/%n"
        path_selector "round-robin 0"
        features "0"
        hardware_handler "0"
        prio const
        rr_weight uniform
        no_path_retry 5
        rr_min_io 1000
    }
    device {
        vendor "FSC"
        product "CentricStor"
        path_grouping_policy group_by_serial
        getuid_callout "/lib/udev/scsi_id --whitelisted --device=/dev/%n"
        path_selector "round-robin 0"
        path_checker directio
        features "0"
        hardware_handler "0"
        prio const
        rr_weight uniform
        rr_min_io 1000
    }
    device {
        vendor "HITACHI"
        product "OPEN-.*"
        path_grouping_policy multibus
        getuid_callout "/lib/udev/scsi_id --whitelisted --device=/dev/%n"
        path_selector "round-robin 0"
        path_checker tur
        features "0"
        hardware_handler "0"
        prio const
        rr_weight uniform
        no_path_retry 6
        rr_min_io 1000
    }
    device {
        vendor "HITACHI"
        product "DF.*"
        path_grouping_policy group_by_prio
        getuid_callout "/lib/udev/scsi_id --whitelisted --device=/dev/%n"
        path_selector "round-robin 0"
        path_checker tur
        features "1 queue_if_no_path"
        hardware_handler "0"
        prio hds
        failback immediate
        rr_weight uniform
        rr_min_io 1000
    }
    device {
        vendor "IBM"
        product "ProFibre 4000R"
        path_grouping_policy multibus
        getuid_callout "/lib/udev/scsi_id --whitelisted --device=/dev/%n"
        path_selector "round-robin 0"
        path_checker directio
        features "0"
        hardware_handler "0"
        prio const
        rr_weight uniform
        rr_min_io 1000
    }
    device {
        vendor "IBM"
        product "1722-600"
        path_grouping_policy group_by_prio
        getuid_callout "/lib/udev/scsi_id --whitelisted --device=/dev/%n"
        path_selector "round-robin 0"
        path_checker rdac
        features "1 queue_if_no_path"
        hardware_handler "1 rdac"
        prio rdac
        failback immediate
        rr_weight uniform
        no_path_retry 300
        rr_min_io 1000
    }
    device {
        vendor "IBM"
        product "1724"
        path_grouping_policy group_by_prio
        getuid_callout "/lib/udev/scsi_id --whitelisted --device=/dev/%n"
        path_selector "round-robin 0"
        path_checker rdac
        features "1 queue_if_no_path"
        hardware_handler "1 rdac"
        prio rdac
        failback immediate
        rr_weight uniform
        no_path_retry 300
        rr_min_io 1000
    }
    device {
        vendor "IBM"
        product "1726"
        path_grouping_policy group_by_prio
        getuid_callout "/lib/udev/scsi_id --whitelisted --device=/dev/%n"
        path_selector "round-robin 0"
        path_checker rdac
        features "1 queue_if_no_path"
        hardware_handler "1 rdac"
        prio rdac
        failback immediate
        rr_weight uniform
        no_path_retry 300
        rr_min_io 1000
    }
    device {
        vendor "IBM"
        product "1742"
        path_grouping_policy group_by_prio
        getuid_callout "/lib/udev/scsi_id --whitelisted --device=/dev/%n"
        path_selector "round-robin 0"
        path_checker rdac
        features "0"
        hardware_handler "1 rdac"
        prio rdac
        failback immediate
        rr_weight uniform
        no_path_retry queue
        rr_min_io 1000
    }
    device {
        vendor "IBM"
        product "1745|1746"
        path_grouping_policy group_by_prio
        getuid_callout "/lib/udev/scsi_id --whitelisted --device=/dev/%n"
        path_selector "round-robin 0"
        path_checker rdac
        features "2 pg_init_retries 50"
        hardware_handler "1 rdac"
        prio rdac
        failback immediate
        rr_weight uniform
        no_path_retry 15
        rr_min_io 1000
    }
    device {
        vendor "IBM"
        product "1745"
        path_grouping_policy group_by_prio
        getuid_callout "/lib/udev/scsi_id --whitelisted --device=/dev/%n"
        path_selector "round-robin 0"
        path_checker rdac
        features "2 pg_init_retries 50"
        hardware_handler "1 rdac"
        prio rdac
        failback immediate
        rr_weight uniform
        no_path_retry 15
        rr_min_io 1000
    }
    device {
        vendor "IBM"
        product "1746"
        path_grouping_policy group_by_prio
        getuid_callout "/lib/udev/scsi_id --whitelisted --device=/dev/%n"
        path_selector "round-robin 0"
        path_checker rdac
        features "2 pg_init_retries 50"
        hardware_handler "1 rdac"
        prio rdac
        failback immediate
        rr_weight uniform
        no_path_retry 15
        rr_min_io 1000
    }
    device {
        vendor "IBM"
        product "1814"
        path_grouping_policy group_by_prio
        getuid_callout "/lib/udev/scsi_id --whitelisted --device=/dev/%n"
        path_selector "round-robin 0"
        path_checker rdac
        features "0"
        hardware_handler "1 rdac"
        prio rdac
        failback immediate
        rr_weight uniform
        no_path_retry queue
        rr_min_io 1000
    }
    device {
        vendor "IBM"
        product "1815"
        path_grouping_policy group_by_prio
        getuid_callout "/lib/udev/scsi_id --whitelisted --device=/dev/%n"
        path_selector "round-robin 0"
        path_checker rdac
        features "0"
        hardware_handler "1 rdac"
        prio rdac
        failback immediate
        rr_weight uniform
        no_path_retry queue
        rr_min_io 1000
    }
    device {
        vendor "IBM"
        product "1818"
        path_grouping_policy group_by_prio
        getuid_callout "/lib/udev/scsi_id --whitelisted --device=/dev/%n"
        path_selector "round-robin 0"
        path_checker rdac
        features "0"
        hardware_handler "1 rdac"
        prio rdac
        failback immediate
        rr_weight uniform
        no_path_retry queue
        rr_min_io 1000
    }
    device {
        vendor "IBM"
        product "3526"
        path_grouping_policy group_by_prio
        getuid_callout "/lib/udev/scsi_id --whitelisted --device=/dev/%n"
        path_selector "round-robin 0"
        path_checker rdac
        features "0"
        hardware_handler "1 rdac"
        prio rdac
        failback immediate
        rr_weight uniform
        no_path_retry queue
        rr_min_io 1000
    }
    device {
        vendor "IBM"
        product "3542"
        path_grouping_policy group_by_serial
        getuid_callout "/lib/udev/scsi_id --whitelisted --device=/dev/%n"
        path_selector "round-robin 0"
        path_checker tur
        features "0"
        hardware_handler "0"
        prio const
        rr_weight uniform
        rr_min_io 1000
    }
    device {
        vendor "IBM"
        product "2105800"
        path_grouping_policy group_by_serial
        getuid_callout "/lib/udev/scsi_id --whitelisted --device=/dev/%n"
        path_selector "round-robin 0"
        path_checker tur
        features "1 queue_if_no_path"
        hardware_handler "0"
        prio const
        rr_weight uniform
        rr_min_io 1000
    }
    device {
        vendor "IBM"
        product "2105F20"
        path_grouping_policy group_by_serial
        getuid_callout "/lib/udev/scsi_id --whitelisted --device=/dev/%n"
        path_selector "round-robin 0"
        path_checker tur
        features "1 queue_if_no_path"
        hardware_handler "0"
        prio const
        rr_weight uniform
        rr_min_io 1000
    }
    device {
        vendor "IBM"
        product "1750500"
        path_grouping_policy group_by_prio
        getuid_callout "/lib/udev/scsi_id --whitelisted --device=/dev/%n"
        path_selector "round-robin 0"
        path_checker tur
        features "1 queue_if_no_path"
        hardware_handler "0"
        prio alua
        failback immediate
        rr_weight uniform
        rr_min_io 1000
    }
    device {
        vendor "IBM"
        product "2107900"
        path_grouping_policy multibus
        getuid_callout "/lib/udev/scsi_id --whitelisted --device=/dev/%n"
        path_selector "round-robin 0"
        path_checker tur
        features "1 queue_if_no_path"
        hardware_handler "0"
        prio const
        rr_weight uniform
        rr_min_io 1000
    }
    device {
        vendor "IBM"
        product "2145"
        path_grouping_policy group_by_prio
        getuid_callout "/lib/udev/scsi_id --whitelisted --device=/dev/%n"
        path_selector "round-robin 0"
        path_checker tur
        features "1 queue_if_no_path"
        hardware_handler "0"
        prio alua
        failback immediate
        rr_weight uniform
        rr_min_io 1000
    }
    device {
        vendor "IBM"
        product "S/390 DASD ECKD"
        product_blacklist "S/390.*"
        path_grouping_policy multibus
        getuid_callout "/sbin/dasdinfo -u -b %n"
        path_selector "round-robin 0"
        path_checker directio
        features "1 queue_if_no_path"
        hardware_handler "0"
        prio const
        rr_weight uniform
        rr_min_io 1000
    }
    device {
        vendor "IBM"
        product "S/390 DASD FBA"
        product_blacklist "S/390.*"
        path_grouping_policy multibus
        getuid_callout "/sbin/dasdinfo -u -b %n"
        path_selector "round-robin 0"
        path_checker directio
        features "1 queue_if_no_path"
        hardware_handler "0"
        prio const
        rr_weight uniform
        rr_min_io 1000
    }
    device {
        vendor "IBM"
        product "IPR.*"
        path_grouping_policy group_by_prio
        getuid_callout "/lib/udev/scsi_id --whitelisted --device=/dev/%n"
        path_selector "round-robin 0"
        path_checker tur
        features "1 queue_if_no_path"
        hardware_handler "1 alua"
        prio alua
        failback immediate
        rr_weight uniform
        rr_min_io 1000
    }
    device {
        vendor "AIX"
        product "VDASD"
        path_grouping_policy multibus
        getuid_callout "/lib/udev/scsi_id --whitelisted --device=/dev/%n"
        path_selector "round-robin 0"
        path_checker directio
        features "0"
        hardware_handler "0"
        prio const
        failback immediate
        rr_weight uniform
        no_path_retry 60
        rr_min_io 1000
    }
    device {
        vendor "IBM"
        product "3303      NVDISK"
        path_grouping_policy failover
        getuid_callout "/lib/udev/scsi_id --whitelisted --device=/dev/%n"
        path_selector "round-robin 0"
        path_checker tur
        features "0"
        hardware_handler "0"
        prio const
        failback immediate
        rr_weight uniform
        no_path_retry 60
        rr_min_io 1000
    }
    device {
        vendor "AIX"
        product "NVDISK"
        path_grouping_policy group_by_prio
        getuid_callout "/lib/udev/scsi_id --whitelisted --device=/dev/%n"
        path_selector "round-robin 0"
        path_checker tur
        features "0"
        hardware_handler "1 alua"
        prio alua
        failback immediate
        rr_weight uniform
        no_path_retry 60
        rr_min_io 1000
    }
    device {
        vendor "DELL"
        product "MD3000"
        path_grouping_policy group_by_prio
        getuid_callout "/lib/udev/scsi_id --whitelisted --device=/dev/%n"
        path_selector "round-robin 0"
        path_checker rdac
        features "2 pg_init_retries 50"
        hardware_handler "1 rdac"
        prio rdac
        failback immediate
        rr_weight uniform
        no_path_retry 15
        rr_min_io 1000
    }
    device {
        vendor "DELL"
        product "MD3000i"
        path_grouping_policy group_by_prio
        getuid_callout "/lib/udev/scsi_id --whitelisted --device=/dev/%n"
        path_selector "round-robin 0"
        path_checker rdac
        features "2 pg_init_retries 50"
        hardware_handler "1 rdac"
        prio rdac
        failback immediate
        rr_weight uniform
        no_path_retry 15
        rr_min_io 1000
    }
    device {
        vendor "DELL"
        product "MD32xx"
        path_grouping_policy group_by_prio
        getuid_callout "/lib/udev/scsi_id --whitelisted --device=/dev/%n"
        path_selector "round-robin 0"
        path_checker rdac
        features "2 pg_init_retries 50"
        hardware_handler "1 rdac"
        prio rdac
        failback immediate
        rr_weight uniform
        no_path_retry 15
        rr_min_io 1000
    }
    device {
        vendor "DELL"
        product "MD32xxi"
        path_grouping_policy group_by_prio
        getuid_callout "/lib/udev/scsi_id --whitelisted --device=/dev/%n"
        path_selector "round-robin 0"
        path_checker rdac
        features "2 pg_init_retries 50"
        hardware_handler "1 rdac"
        prio rdac
        failback immediate
        rr_weight uniform
        no_path_retry 15
        rr_min_io 1000
    }
    device {
        vendor "NETAPP"
        product "LUN.*"
        path_grouping_policy group_by_prio
        getuid_callout "/lib/udev/scsi_id --whitelisted --device=/dev/%n"
        path_selector "round-robin 0"
        path_checker directio
        features "1 queue_if_no_path"
        hardware_handler "0"
        prio ontap
        failback immediate
        rr_weight uniform
        rr_min_io 128
    }
    device {
        vendor "IBM"
        product "Nseries.*"
        path_grouping_policy group_by_prio
        getuid_callout "/lib/udev/scsi_id --whitelisted --device=/dev/%n"
        path_selector "round-robin 0"
        path_checker directio
        features "1 queue_if_no_path"
        hardware_handler "0"
        prio ontap
        failback immediate
        rr_weight uniform
        rr_min_io 128
    }
    device {
        vendor "Pillar"
        product "Axiom.*"
        path_grouping_policy group_by_prio
        getuid_callout "/lib/udev/scsi_id --whitelisted --device=/dev/%n"
        path_selector "round-robin 0"
        path_checker tur
        features "0"
        hardware_handler "0"
        prio alua
        rr_weight uniform
        rr_min_io 1000
    }
    device {
        vendor "SGI"
        product "TP9[13]00"
        path_grouping_policy multibus
        getuid_callout "/lib/udev/scsi_id --whitelisted --device=/dev/%n"
        path_selector "round-robin 0"
        path_checker directio
        features "0"
        hardware_handler "0"
        prio const
        rr_weight uniform
        rr_min_io 1000
    }
    device {
        vendor "SGI"
        product "TP9[45]00"
        path_grouping_policy group_by_prio
        getuid_callout "/lib/udev/scsi_id --whitelisted --device=/dev/%n"
        path_selector "round-robin 0"
        path_checker rdac
        features "0"
        hardware_handler "1 rdac"
        prio rdac
        failback immediate
        rr_weight uniform
        no_path_retry queue
        rr_min_io 1000
    }
    device {
        vendor "SGI"
        product "IS.*"
        path_grouping_policy group_by_prio
        getuid_callout "/lib/udev/scsi_id --whitelisted --device=/dev/%n"
        path_selector "round-robin 0"
        path_checker rdac
        features "2 pg_init_retries 50"
        hardware_handler "1 rdac"
        prio rdac
        failback immediate
        rr_weight uniform
        no_path_retry 15
        rr_min_io 1000
    }
    device {
        vendor "STK"
        product "OPENstorage D280"
        path_grouping_policy group_by_prio
        getuid_callout "/lib/udev/scsi_id --whitelisted --device=/dev/%n"
        path_selector "round-robin 0"
        path_checker tur
        features "0"
        hardware_handler "1 rdac"
        prio rdac
        failback immediate
        rr_weight uniform
        rr_min_io 1000
    }
    device {
        vendor "SUN"
        product "(StorEdge 3510|T4)"
        path_grouping_policy multibus
        getuid_callout "/lib/udev/scsi_id --whitelisted --device=/dev/%n"
        path_selector "round-robin 0"
        path_checker directio
        features "0"
        hardware_handler "0"
        prio const
        rr_weight uniform
        rr_min_io 1000
    }
    device {
        vendor "PIVOT3"
        product "RAIGE VOLUME"
        path_grouping_policy multibus
        getuid_callout "/lib/udev/scsi_id --page=0x80 --whitelisted --device=/dev/%n"
        path_selector "round-robin 0"
        path_checker tur
        features "1 queue_if_no_path"
        hardware_handler "0"
        prio const
        rr_weight uniform
        rr_min_io 100
    }
    device {
        vendor "SUN"
        product "CSM200_R"
        path_grouping_policy group_by_prio
        getuid_callout "/lib/udev/scsi_id --whitelisted --device=/dev/%n"
        path_selector "round-robin 0"
        path_checker rdac
        features "0"
        hardware_handler "1 rdac"
        prio rdac
        failback immediate
        rr_weight uniform
        no_path_retry queue
        rr_min_io 1000
    }
    device {
        vendor "SUN"
        product "LCSM100_[IEFS]"
        path_grouping_policy group_by_prio
        getuid_callout "/lib/udev/scsi_id --whitelisted --device=/dev/%n"
        path_selector "round-robin 0"
        path_checker rdac
        features "0"
        hardware_handler "1 rdac"
        prio rdac
        failback immediate
        rr_weight uniform
        no_path_retry queue
        rr_min_io 1000
    }
    device {
        vendor "(LSI|ENGENIO)"
        product "INF-01-00"
        path_grouping_policy group_by_prio
        getuid_callout "/lib/udev/scsi_id --whitelisted --device=/dev/%n"
        path_selector "round-robin 0"
        path_checker rdac
        features "2 pg_init_retries 50"
        hardware_handler "1 rdac"
        prio rdac
        failback immediate
        rr_weight uniform
        no_path_retry 15
        rr_min_io 1000
    }
    device {
        vendor "STK"
        product "FLEXLINE 380"
        product_blacklist "Universal Xport"
        path_grouping_policy group_by_prio
        getuid_callout "/lib/udev/scsi_id --whitelisted --device=/dev/%n"
        path_selector "round-robin 0"
        path_checker rdac
        features "0"
        hardware_handler "1 rdac"
        prio rdac
        failback immediate
        rr_weight uniform
        no_path_retry queue
        rr_min_io 1000
    }
    device {
        vendor "EUROLOGC"
        product "FC2502"
        path_grouping_policy group_by_prio
        getuid_callout "/lib/udev/scsi_id --page=0x80 --whitelisted --device=/dev/%n"
        path_selector "round-robin 0"
        path_checker directio
        features "0"
        hardware_handler "0"
        prio const
        rr_weight uniform
        rr_min_io 1000
    }
    device {
        vendor "NEC"
        product "DISK ARRAY"
        path_grouping_policy group_by_prio
        getuid_callout "/lib/udev/scsi_id --whitelisted --device=/dev/%n"
        path_selector "round-robin 0"
        path_checker tur
        features "0"
        hardware_handler "1 alua"
        prio alua
        failback immediate
        rr_weight uniform
        rr_min_io 1000
    }
}
multipaths {
}

multipathd> show blacklist
device node rules:
- blacklist:
        (default rule)     ^(ram|raw|loop|fd|md|dm-|sr|scd|st)[0-9]*
        (default rule)     ^hd[a-z]
        (default rule)     ^dcssblk[0-9]*
- exceptions:
        <empty>
wwid rules:
- blacklist:
        <empty>
- exceptions:
        <empty>
device rules:
- blacklist:
        (default rule)     DGC:LUNZ
        (default rule)     EMC:LUNZ
        (default rule)     IBM:S/390.*
        (default rule)     IBM:S/390.*
        (default rule)     STK:Universal Xport
- exceptions:
        <empty>
        
show devices
available block devices:
    ram0 devnode blacklisted, unmonitored
    ram1 devnode blacklisted, unmonitored
    ram2 devnode blacklisted, unmonitored
    ram3 devnode blacklisted, unmonitored
    ram4 devnode blacklisted, unmonitored
    ram5 devnode blacklisted, unmonitored
    ram6 devnode blacklisted, unmonitored
    ram7 devnode blacklisted, unmonitored
    ram8 devnode blacklisted, unmonitored
    ram9 devnode blacklisted, unmonitored
    ram10 devnode blacklisted, unmonitored
    ram11 devnode blacklisted, unmonitored
    ram12 devnode blacklisted, unmonitored
    ram13 devnode blacklisted, unmonitored
    ram14 devnode blacklisted, unmonitored
    ram15 devnode blacklisted, unmonitored
    loop0 devnode blacklisted, unmonitored
    loop1 devnode blacklisted, unmonitored
    loop2 devnode blacklisted, unmonitored
    loop3 devnode blacklisted, unmonitored
    loop4 devnode blacklisted, unmonitored
    loop5 devnode blacklisted, unmonitored
    loop6 devnode blacklisted, unmonitored
    loop7 devnode blacklisted, unmonitored
    sr0 devnode blacklisted, unmonitored
    sda devnode whitelisted, monitored
    fd0 devnode blacklisted, unmonitored
    sdb devnode whitelisted, monitored
    dm-0 devnode blacklisted, unmonitored
   
multipathd> show wildcards
multipath format wildcards:
%n  name
%w  uuid
%d  sysfs
%F  failback
%Q  queueing
%N  paths
%r  write_prot
%t  dm-st
%S  size
%f  features
%h  hwhandler
%A  action
%0  path_faults
%1  switch_grp
%2  map_loads
%3  total_q_time
%4  q_timeouts
%s  vend/prod/rev

path format wildcards:
%w  uuid
%i  hcil
%d  dev
%D  dev_t
%t  dm_st
%o  dev_st
%T  chk_st
%s  vend/prod/rev
%c  checker
%C  next_check
%p  pri
%S  size

pathgroup format wildcards:
%s  selector
%p  pri
%t  dm_st

multipathd> reconfigure
ok

paths count
Paths: 1
Busy: False

host-ci14
=========




host-ci15
=========
multipathd> ?
fail
multipath-tools v0.4.7 (03/12, 2006)
CLI commands reference:
 list|show paths
 list|show maps|multipaths
 list|show maps|multipaths status
 list|show maps|multipaths stats
 list|show maps|multipaths topology
 list|show topology
 list|show map|multipath $map topology
 list|show config
 list|show blacklist
 list|show devices
 add path $path
 remove|del path $path
 add map|multipath $map
 remove|del map|multipath $map
 switch|switchgroup map|multipath $map group $group
 reconfigure
 suspend map|multipath $map
 resume map|multipath $map
 reinstate path $path
 fail path $path
 disablequeueing map|multipath $map
 restorequeueing map|multipath $map
 disablequeueing maps|multipaths
 restorequeueing maps|multipaths
 resize map|multipath $map
 
multipathd> show paths
hcil    dev dev_t pri dm_st   chk_st  next_check      
2:0:0:0 sda 8:0   1   [undef] [undef] [orphan]        
3:0:0:0 sdb 8:16  1   [active][ready] XXXXXXX... 15/20

multipathd> show maps
name                              sysfs uuid                             
36000402001f45eb56424ca6800000000 dm-0  36000402001f45eb56424ca6800000000

multipathd> show maps
name                              sysfs uuid                             
36000402001f45eb56424ca6800000000 dm-0  36000402001f45eb56424ca6800000000
multipathd> show maps status
name                              failback queueing paths dm-st 
36000402001f45eb56424ca6800000000 -        -        1     active

multipathd> show maps stats
name                              path_faults switch_grp map_loads total_q_time q_timeouts
36000402001f45eb56424ca6800000000 0           0          0         0            0    

multipathd> show maps topology
36000402001f45eb56424ca6800000000dm-0  NEXSAN  ,SATABoy2      
[size=466G][features=0       ][hwhandler=0        ]
\_ round-robin 0 [prio=0][active]
 \_ 3:0:0:0 sdb 8:16  [active][ready]
 
multipathd> show topology
36000402001f45eb56424ca6800000000dm-0  NEXSAN  ,SATABoy2      
[size=466G][features=0       ][hwhandler=0        ]
\_ round-robin 0 [prio=0][active]
 \_ 3:0:0:0 sdb 8:16  [active][ready]
 
multipathd> show config
defaults {
}
blacklist {
    devnode ^(ram|raw|loop|fd|md|dm-|sr|scd|st)[0-9]*
    devnode ^hd[a-z]
    devnode ^dcssblk[0-9]*
    devnode ^cciss!c[0-9]d[0-9]*
    device {
        vendor DGC
        product LUNZ
    }
    device {
        vendor IBM
        product S/390.*
    }
}
blacklist_exceptions {
}
devices {
    device {
        vendor NEXSAN
        product SATABoy2
    }
    device {
        vendor APPLE*
        product Xserve RAID 
        path_grouping_policy multibus
    }
    device {
        vendor 3PARdata
        product VV
        path_grouping_policy multibus
    }
    device {
        vendor DEC
        product HSG80
        path_grouping_policy group_by_prio
        path_checker hp_sw
        features 1 queue_if_no_path
        hardware_handler 1 hp_sw
        prio_callout /sbin/mpath_prio_hp_sw /dev/%n
    }
    device {
        vendor HP
        product A6189A
        path_grouping_policy multibus
        path_checker readsector0
    }
    device {
        vendor (COMPAQ|HP)
        product (MSA|HSV)1.0.*
        path_grouping_policy group_by_prio
        path_checker hp_sw
        features 1 queue_if_no_path
        hardware_handler 1 hp_sw
        prio_callout /sbin/mpath_prio_hp_sw /dev/%n
    }
    device {
        vendor HP
        product MSA VOLUME
        path_grouping_policy group_by_prio
        path_checker tur
        prio_callout /sbin/mpath_prio_alua /dev/%n
        failback immediate
    }
    device {
        vendor (COMPAQ|HP)
        product (MSA|HSV)1.1.*
        path_grouping_policy group_by_prio
        path_checker tur
        prio_callout /sbin/mpath_prio_alua /dev/%n
        failback immediate
    }
    device {
        vendor HP
        product HSV2.*
        path_grouping_policy group_by_prio
        path_checker tur
        prio_callout /sbin/mpath_prio_alua /dev/%n
        failback immediate
    }
    device {
        vendor HP
        product LOGICAL VOLUME.*
        path_grouping_policy multibus
        getuid_callout /lib/udev/scsi_id -n -g -u -d /dev/%n
        path_checker tur
    }
    device {
        vendor DDN
        product SAN DataDirector
        path_grouping_policy multibus
    }
    device {
        vendor EMC
        product SYMMETRIX
        path_grouping_policy multibus
        getuid_callout /lib/udev/scsi_id -g -u -ppre-spc3-83 -d /dev/%n
        path_checker readsector0
    }
    device {
        vendor DGC
        product .*
        product_blacklist LUNZ
        path_grouping_policy group_by_prio
        path_checker emc_clariion
        features 1 queue_if_no_path
        hardware_handler 1 emc
        prio_callout /sbin/mpath_prio_emc /dev/%n
        failback immediate
        no_path_retry 60
    }
    device {
        vendor FSC
        product CentricStor
        path_grouping_policy group_by_serial
        path_checker readsector0
    }
    device {
        vendor (HITACHI|HP)
        product OPEN-.*
        path_grouping_policy multibus
        path_checker tur
        features 1 queue_if_no_path
    }
    device {
        vendor HITACHI
        product DF.*
        path_grouping_policy group_by_prio
        path_checker tur
        features 1 queue_if_no_path
        prio_callout /sbin/mpath_prio_hds_modular /dev/%n
        failback immediate
    }
    device {
        vendor IBM
        product ProFibre 4000R
        path_grouping_policy multibus
        path_checker readsector0
    }
    device {
        vendor IBM
        product 1742
        path_grouping_policy group_by_prio
        path_checker tur
        prio_callout /sbin/mpath_prio_rdac /dev/%n
        failback immediate
    }
    device {
        vendor IBM
        product 3526
        path_grouping_policy group_by_prio
        path_checker tur
        prio_callout /sbin/mpath_prio_rdac /dev/%n
        failback immediate
    }
    device {
        vendor IBM
        product 3542
        path_grouping_policy group_by_serial
        path_checker tur
    }
    device {
        vendor IBM
        product 2105(800|F20)
        path_grouping_policy group_by_serial
        path_checker tur
        features 1 queue_if_no_path
    }
    device {
        vendor IBM
        product 1750500
        path_grouping_policy group_by_prio
        path_checker tur
        features 1 queue_if_no_path
        prio_callout /sbin/mpath_prio_alua /dev/%n
        failback immediate
    }
    device {
        vendor IBM
        product 2107900
        path_grouping_policy multibus
        path_checker tur
        features 1 queue_if_no_path
    }
    device {
        vendor IBM
        product 2145
        path_grouping_policy group_by_prio
        path_checker tur
        features 1 queue_if_no_path
        prio_callout /sbin/mpath_prio_alua /dev/%n
        failback immediate
    }
    device {
        vendor IBM
        product S/390 DASD ECKD
        product_blacklist S/390.*
        path_grouping_policy multibus
        getuid_callout /sbin/dasdinfo -u -b %n
        features 1 queue_if_no_path
    }
    device {
        vendor NETAPP
        product LUN.*
        path_grouping_policy group_by_prio
        path_checker readsector0
        features 1 queue_if_no_path
        prio_callout /sbin/mpath_prio_netapp /dev/%n
        failback immediate
        rr_min_io 128
    }
    device {
        vendor IBM
        product Nseries.*
        path_grouping_policy group_by_prio
        path_checker readsector0
        features 1 queue_if_no_path
        prio_callout /sbin/mpath_prio_netapp /dev/%n
        failback immediate
        rr_min_io 128
    }
    device {
        vendor Pillar
        product Axiom.*
        path_grouping_policy group_by_prio
        path_checker tur
        prio_callout /sbin/mpath_prio_alua %n
    }
    device {
        vendor SGI
        product TP9[13]00
        path_grouping_policy multibus
        path_checker readsector0
    }
    device {
        vendor SGI
        product TP9[45]00
        path_grouping_policy group_by_prio
        path_checker rdac
        prio_callout /sbin/mpath_prio_rdac /dev/%n
        failback immediate
        no_path_retry queue
    }
    device {
        vendor SGI
        product IS.*
        path_grouping_policy group_by_prio
        path_checker rdac
        prio_callout /sbin/mpath_prio_rdac /dev/%n
        failback immediate
        no_path_retry queue
    }
    device {
        vendor STK
        product OPENstorage D280
        path_grouping_policy group_by_prio
        path_checker tur
        prio_callout /sbin/mpath_prio_rdac /dev/%n
        failback immediate
    }
    device {
        vendor SUN
        product (StorEdge 3510|T4)
        path_grouping_policy multibus
        path_checker readsector0
    }
}
multipaths {
}

multipathd> show blacklist
device node rules:
- blacklist:
        (default rule)     ^(ram|raw|loop|fd|md|dm-|sr|scd|st)[0-9]*
        (default rule)     ^hd[a-z]
        (default rule)     ^dcssblk[0-9]*
        (default rule)     ^cciss!c[0-9]d[0-9]*
- exceptions:
        <empty>
wwid rules:
- blacklist:
        <empty>
- exceptions:
        <empty>
device rules:
- blacklist:
        (default rule)     DGC:LUNZ
        (default rule)     IBM:S/390.*
- exceptions:
        <empty>

multipathd> show devices
available block devices:

multipathd> reconfigure
ok
